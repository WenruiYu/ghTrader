{% extends "base.html" %}
{% block content %}
  <h2>Eval</h2>

  <div class="card">
    <h3>benchmark</h3>
    <form class="form" method="post" action="/ops/eval/benchmark{{ token_qs }}">
      <div class="grid3">
        <div><label>Model</label><input name="model" value="xgboost"/></div>
        <div><label>Symbol</label><input name="symbol" placeholder="SHFE.cu2602"/></div>
        <div><label>Horizon</label><input name="horizon" value="50"/></div>
      </div>
      <div class="grid3">
        <div><label>Data dir</label><input name="data_dir" value="data"/></div>
        <div><label>Artifacts dir</label><input name="artifacts_dir" value="artifacts"/></div>
        <div><label>Runs dir</label><input name="runs_dir" value="runs"/></div>
      </div>
      <button type="submit">Run benchmark</button>
    </form>
  </div>

  <div class="card">
    <h3>compare</h3>
    <form class="form" method="post" action="/ops/eval/compare{{ token_qs }}">
      <div class="grid3">
        <div><label>Symbol</label><input name="symbol" placeholder="SHFE.cu2602"/></div>
        <div><label>Models (comma)</label><input name="models" value="logistic,xgboost,deeplob"/></div>
        <div><label>Horizon</label><input name="horizon" value="50"/></div>
      </div>
      <div class="grid3">
        <div><label>Data dir</label><input name="data_dir" value="data"/></div>
        <div><label>Artifacts dir</label><input name="artifacts_dir" value="artifacts"/></div>
        <div><label>Runs dir</label><input name="runs_dir" value="runs"/></div>
      </div>
      <button type="submit">Run compare</button>
    </form>
  </div>

  <div class="card">
    <h3>backtest</h3>
    <form class="form" method="post" action="/ops/eval/backtest{{ token_qs }}">
      <div class="grid3">
        <div><label>Model</label><input name="model" value="xgboost"/></div>
        <div><label>Symbol</label><input name="symbol" placeholder="SHFE.cu2602"/></div>
        <div><label>Horizon</label><input name="horizon" value="50"/></div>
      </div>
      <div class="grid3">
        <div><label>Start (YYYY-MM-DD)</label><input name="start_date"/></div>
        <div><label>End (YYYY-MM-DD)</label><input name="end_date"/></div>
        <div><label>Runs dir</label><input name="runs_dir" value="runs"/></div>
      </div>
      <div class="grid2">
        <div><label>Data dir</label><input name="data_dir" value="data"/></div>
        <div><label>Artifacts dir</label><input name="artifacts_dir" value="artifacts"/></div>
      </div>
      <button type="submit">Run backtest</button>
    </form>
  </div>

  <div class="card">
    <h3>paper</h3>
    <form class="form" method="post" action="/ops/eval/paper{{ token_qs }}">
      <div class="grid2">
        <div><label>Model</label><input name="model" value="xgboost"/></div>
        <div><label>Artifacts dir</label><input name="artifacts_dir" value="artifacts"/></div>
      </div>
      <div><label>Symbols (comma)</label><input name="symbols" placeholder="SHFE.cu2602,SHFE.au2602"/></div>
      <button type="submit">Start paper trading</button>
    </form>
  </div>

  <div class="card">
    <h3>daily-train</h3>
    <form class="form" method="post" action="/ops/eval/daily_train{{ token_qs }}">
      <div><label>Symbols (comma)</label><input name="symbols" placeholder="SHFE.cu2602,SHFE.au2602"/></div>
      <div class="grid3">
        <div><label>Model</label><input name="model" value="deeplob"/></div>
        <div><label>Horizon</label><input name="horizon" value="50"/></div>
        <div><label>Lookback days</label><input name="lookback_days" value="30"/></div>
      </div>
      <div class="grid3">
        <div><label>Data dir</label><input name="data_dir" value="data"/></div>
        <div><label>Artifacts dir</label><input name="artifacts_dir" value="artifacts"/></div>
        <div><label>Runs dir</label><input name="runs_dir" value="runs"/></div>
      </div>
      <button type="submit">Run daily-train</button>
    </form>
  </div>
{% endblock %}

