{% extends "base.html" %}
{% block content %}
  <h2>System</h2>

  <div class="grid">
    <div class="card">
      <div class="kpiLabel">CPU %</div>
      <div class="kpiValue">{{ cpu_mem.cpu_percent if cpu_mem.cpu_percent is not none else "n/a" }}</div>
    </div>
    <div class="card">
      <div class="kpiLabel">Mem %</div>
      <div class="kpiValue">{{ cpu_mem.mem_percent if cpu_mem.mem_percent is not none else "n/a" }}</div>
    </div>
  </div>

  <h3>Disk</h3>
  <table class="table">
    <thead><tr><th>Path</th><th>Total(GB)</th><th>Used(GB)</th><th>Free(GB)</th></tr></thead>
    <tbody>
      {% for p, du in disks %}
      <tr>
        <td class="mono">{{ p }}</td>
        <td>{{ "%.1f"|format(du.total_gb) }}</td>
        <td>{{ "%.1f"|format(du.used_gb) }}</td>
        <td>{{ "%.1f"|format(du.free_gb) }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <h3>GPU (best-effort)</h3>
  <pre class="log">{{ gpu_info or "nvidia-smi not available" }}</pre>
{% endblock %}

