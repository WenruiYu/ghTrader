{% extends "base.html" %}
{% block content %}
  <h2>Model</h2>

  <div class="card">
    <h3>train</h3>
    <form class="form" method="post" action="/ops/model/train{{ token_qs }}">
      <div class="grid3">
        <div><label>Model</label><input name="model" value="xgboost"/></div>
        <div><label>Symbol</label><input name="symbol" placeholder="SHFE.cu2602"/></div>
        <div><label>Horizon</label><input name="horizon" value="50"/></div>
      </div>
      <div class="grid3">
        <div><label>Epochs</label><input name="epochs" value="50"/></div>
        <div><label>Batch size</label><input name="batch_size" value="256"/></div>
        <div><label>Seq len</label><input name="seq_len" value="100"/></div>
      </div>
      <div class="grid3">
        <div><label>LR</label><input name="lr" value="0.001"/></div>
        <div><label>DDP</label>
          <select name="ddp"><option value="true" selected>true</option><option value="false">false</option></select>
        </div>
        <div><label>GPUs</label><input name="gpus" value="1"/></div>
      </div>
      <div class="grid2">
        <div><label>Data dir</label><input name="data_dir" value="data"/></div>
        <div><label>Artifacts dir</label><input name="artifacts_dir" value="artifacts"/></div>
      </div>
      <button type="submit">Start train</button>
    </form>
  </div>

  <div class="card">
    <h3>sweep</h3>
    <form class="form" method="post" action="/ops/model/sweep{{ token_qs }}">
      <div class="grid3">
        <div><label>Symbol</label><input name="symbol" placeholder="SHFE.cu2602"/></div>
        <div><label>Model</label><input name="model" value="deeplob"/></div>
        <div><label>N trials</label><input name="n_trials" value="20"/></div>
      </div>
      <div class="grid3">
        <div><label>N CPUs</label><input name="n_cpus" value="8"/></div>
        <div><label>N GPUs</label><input name="n_gpus" value="1"/></div>
        <div><label>Runs dir</label><input name="runs_dir" value="runs"/></div>
      </div>
      <div class="grid2">
        <div><label>Data dir</label><input name="data_dir" value="data"/></div>
        <div><label>Artifacts dir</label><input name="artifacts_dir" value="artifacts"/></div>
      </div>
      <button type="submit">Start sweep</button>
    </form>
  </div>
{% endblock %}

