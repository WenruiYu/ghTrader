# QuestDB native server.conf (mirrors docker-compose tuning)

telemetry.enabled=false
metrics.enabled=true
metrics.port=9003

# WAL
cairo.wal.enabled=true

# Memory limits (disable to avoid mmap failures on large datasets)
ram.usage.limit.percent=0
ram.usage.limit.bytes=0

# SQL/JIT buffer sizes
cairo.sql.jit.page.size=4194304
cairo.sql.copy.buffer.size=4194304

# Shared worker pools (QuestDB 9.x+)
shared.network.worker.count=48
shared.query.worker.count=192
shared.write.worker.count=128
line.tcp.writer.worker.count=96
line.tcp.io.worker.count=96
pg.worker.count=128
pg.net.connection.limit=512
cairo.wal.apply.worker.count=128
cairo.writer.fo.count=256

# O3 / commit tuning
cairo.o3.commit.lag=300000000
cairo.max.uncommitted.rows=500000

# SQL cache and HTTP pool
cairo.sql.cache.size=1024
http.connection.pool.size=256
cairo.sql.parallel.groupby.enabled=true
